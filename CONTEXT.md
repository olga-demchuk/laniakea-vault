# Laniakea Vault — Context for New Conversation

## Описание проекта

Laniakea Vault — это локальное приложение для хранения и организации личной базы знаний (mood board). Проект сочетает Telegram-бота для быстрого добавления контента и веб-интерфейс для просмотра и редактирования.

## Философия

Laniakea — это проект о привычках, порядке и здравом смысле. Цель: создать систему, которая помогает современному человеку справляться с рутиной, освобождая место для важного и приятного.

Основные принципы: порядок, ясность, уважение к себе и к жизни.

## Текущая реализация

### Технологический стек

**Backend:**
- Node.js + Express
- SQLite3 (локальная БД в одном файле)
- Telegram Bot API

**Frontend:**
- Vanilla JavaScript (без фреймворков)
- Минималистичный CSS
- Адаптивный дизайн

### Структура данных

**Датум (datum)** — единица информации:
- `id` — уникальный идентификатор
- `type` — тип (image, text, video)
- `file_path` — путь к файлу
- `content` — текстовое содержимое
- `note` — описание/заметка
- `created_at` — дата создания

**Тема (theme)** — тег/категория:
- `id` — уникальный идентификатор
- `name` — название темы

**Связь датум-тема (data_themes):**
- Многие-ко-многим
- Один датум может иметь несколько тем

### Функциональность

**Telegram-бот:**
- Добавление изображений с описанием
- Добавление текста
- Автоматическое извлечение хештегов как тем (#food #highprotein)
- Команды: /list, /themes, /theme название, /stats

**Веб-интерфейс (http://localhost:3000):**
- Grid view с карточками всех датумов
- Модальное окно для полного просмотра
- Вкладка с темами (показывает количество датумов)
- Поиск по описанию и темам
- Фильтр по типу контента
- Редактирование датумов (описание и темы)
- Удаление датумов (с удалением файла)

**API endpoints:**
- `GET /api/data` — получить все датумы с темами
- `GET /api/themes` — получить все темы с количеством
- `GET /api/stats` — статистика (количество датумов и тем)
- `PUT /api/data/:id` — обновить датум
- `DELETE /api/data/:id` — удалить датум

### Структура файлов

```
laniakea-vault/
├── media/
│   ├── images/          # Изображения (img_timestamp.jpg)
│   ├── videos/          # Видео
│   └── texts/           # Текстовые файлы (.md)
├── public/
│   ├── css/
│   │   └── style.css    # Стили веб-интерфейса
│   ├── js/
│   │   └── app.js       # Логика веб-интерфейса
│   └── index.html       # HTML веб-интерфейса
├── .env                 # Переменные окружения (не в Git)
├── .env.example         # Шаблон для .env
├── .gitignore
├── laniakea.db          # SQLite база данных (не в Git)
├── package.json         # Зависимости npm
├── README.md            # Документация
└── server.js            # Основной сервер (бот + API)
```

### Переменные окружения (.env)

```
TELEGRAM_BOT_TOKEN=your_bot_token_here
ALLOWED_USER_ID=your_telegram_user_id_here
PORT=3000
```

## Git репозиторий

**URL:** https://github.com/olga-demchuk/laniakea-vault

**Workflow:**
- `main` — стабильная версия
- `feature/*` — новые фичи
- Pull Requests для каждой фичи

**История:**
1. Initial commit — базовая структура с Telegram-ботом
2. PR: Web interface — добавлен веб-интерфейс
3. PR: Edit & Delete — добавлено редактирование и удаление

## Roadmap (нереализованное)

- [ ] Связи между датумами (граф зависимостей)
- [ ] Экспорт данных (Notion, Markdown)
- [ ] Полнотекстовый поиск
- [ ] Автотеги через AI
- [ ] Мобильное приложение (iOS/Android)
- [ ] Загрузка файлов через веб-интерфейс
- [ ] Видео поддержка
- [ ] Bulk operations (массовое редактирование)

## Текущие проблемы/ограничения

1. Видео пока не реализовано полностью
2. Загрузка только через Telegram-бот (веб-интерфейс read-only + edit)
3. Нет авторизации в веб-интерфейсе (только через ALLOWED_USER_ID в боте)
4. Один пользователь (по дизайну)
5. Нет бэкапов БД (нужно делать вручную)

## Use case

Пользователь (Оля) хочет собрать персональную базу знаний по разным темам жизни и быта:
- Ванная комната (#bathroom #storage #bottles)
- Еда (#food #highprotein #pescaterian)
- Дети (#kids #toys #system)
- Добавки (#supplements #vitamins #longevity)

Она сохраняет изображения из TikTok через Telegram-бот с описаниями и тегами, затем просматривает и организует их через веб-интерфейс на компьютере.

## Следующие шаги для развития

1. **UI/UX улучшения** — более красивый дизайн, анимации
2. **Связи** — возможность связывать датумы между собой
3. **Экспорт** — выгрузка в разные форматы
4. **AI интеграция** — автоматическое тегирование через Claude API
5. **Деплой** — развернуть на VPS для доступа из любого места

## Технические детали

**Зависимости (package.json):**
```json
{
  "dependencies": {
    "dotenv": "^16.x",
    "node-telegram-bot-api": "^0.x",
    "sqlite3": "^5.x",
    "express": "^4.x",
    "cors": "^2.x"
  }
}
```

**Запуск:**
```bash
node server.js
```

**Порты:**
- 3000 — веб-интерфейс и API
- Telegram Bot API — через polling

## Контекст для новой беседы

Используй эту информацию как базовый контекст для обсуждения дальнейшего развития проекта. Проект находится в рабочем состоянии, все основные фичи реализованы и задокументированы.
